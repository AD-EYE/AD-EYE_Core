<!DOCTYPE html>
<html>
  <head>
    <title>AD-EYE</title>
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="gui.css">
    <script type="text/javascript" src="http://static.robotwebtools.org/roslibjs/current/roslib.min.js"></script>
    <script type="text/javascript" src="http://static.robotwebtools.org/EventEmitter2/current/eventemitter2.min.js"></script>
    <script type="text/javascript" src="gui.js"></script>
    <!-- define on/off styles -->
    <style type="text/css">
      .on  
      { background:#699b2c;
        border:none; 
      }
      .off 
      { 
        background: gray;
        border:none;
      }
    </style>
  </head>

  <body> 
      
    <!-- header of the page -->
    <header class="card">
        <h1>AD-EYE Graphical Interface</h1>
        <p style="font-style: italic;">Connection status: <span id="status"></span></p>
    </header>

    <!-- main content -->
    <main>
      <div class="container">
      <div class="row">

        <!-- card for linear velocity -->
        <div class="col-md-4 col-sm-12">
          <div draggable="true" class="box">
            <h2 class="text-center">Linear Velocity</h2>
            <div class="gauge_velocity">
              <div class="gauge_velocity_body">
                <div class="gauge_velocity_fill"></div>
                <div class="gauge_velocity_cover"></div>
              </div>
            </div>
          </div>
        </div>

        <!-- card for linear acceleration -->
        <div class="col-md-4 col-sm-12">
          <div draggable="true" class="box"> 
            <h2 class="text-center">Linear Acceleration</h2>
            <div class="gauge_acceleration">
              <div class="gauge_acceleration_body">
                <div class="gauge_acceleration_fill"></div>
                <div class="gauge_acceleration_cover"></div>
              </div>
            </div>
          </div>
        </div>

        <!-- card for control channel  -->
        <div class="col-md-4 col-sm-12">
          <div draggable="true" class="box">
            <h2 class="text-center">Control Channel</h2>
            <div class="btn-group" style="height:80px;width:320px;"> 
              <button  id="00" type="button" value="off" class="channel" onclick="toggleState_OnClick(this)">Nominal</button>
              <button id="01" type="button" value="off" class="channel" onclick="toggleState_OnClick(this)">Safety</button>
            </div> 
          </div>
        </div>

        <!-- card for manager state -->
        <div class="col-md-4 col-sm-12">
          <div draggable="true" class="box">
            <h2 class="text-center">Manager State</h2>
            <p>Current State : <span id="state"></span></p>
            <button type="button" value="off" class="manager" onclick="toggleStateinitial_OnClick(this)">Initial Checks</button> Data:<span id="initial"></span>
            <button type="button" value="off" class="manager" onclick="toggleStateactivation_OnClick(this)">Activation Request</button> Data:<span id="activation"></span>
            <button type="button" value="off" class="manager" onclick="toggleStatefault_OnClick(this)">Fault</button> Data:<span id="fault"></span>
          </div>
        </div>

        <!-- card for tracked objects -->
        <div class="col-md-4 col-sm-12">
          <div draggable="true" class="box">
            <h2 class="text-center">Tracked Objects</h2>
            <p>Tracked object: <span id="track"></span></p>
            <p>X: <span id="x"></span></p>
            <p>Y: <span id="y"></span></p>
            <p>Z: <span id="z"></span></p>
          </div>
        </div>

        <!-- card for behaviour state -->
        <div class="col-md-4 col-sm-12">
          <div draggable="true" class="box">
            <h2 class="text-center">Behavior State</h2>
            <p>State: <span id="behavior"></span></p>
          </div>
        </div>

        <!-- card for features -->
        <div class="col-md-4 col-sm-12">
          <div draggable="true" class="box">
            <h2 class="text-center">Features</h2>
            <button id="0" type="button" value="off" class="features " onclick="toggleStateRecording_OnClick(this)">Recording</button>
            <button id="1" type="button" value="off" class="features" onclick="toggleStateMap_OnClick(this)"> Map</button>
            <button id="2" type="button" value="off" class="features"  onclick="toggleStateSensing_OnClick(this)">Sensing</button>
            <button id="3" type="button" value="off" class="features"  onclick="toggleStateLocalization_OnClick(this)">Localization</button>
            <button id="4" type="button" value="off" class="features" onclick="toggleStateFaultLocalization_OnClick(this)">Fake Localization</button>
            <button id="5" type="button" value="off" class="features"  onclick="toggleStateDetection_OnClick(this)">Detection</button>
            <button id="6" type="button" value="off" class="features"  onclick="toggleStateMissionPlanning_OnClick(this)">Misson Planning</button>
            <button id="7" type="button" value="off" class="features" onclick="toggleStateMotionPlanning_OnClick(this)">Motion Planning</button>
            <button id="8" type="button" value="off" class="features"  onclick="toggleStateSwitch_OnClick(this)">Switch</button>
            <button id="9" type="button" value="off" class="features"  onclick="toggleStateSSMP_OnClick(this)">SSMP</button>
            <button id="10" type="button" value="off" class="features" onclick="toggleStateRviz_OnClick(this)">Rviz</button>
            <button id="11" type="button" value="off" class="features" onclick="toggleStateExpRecording_OnClick(this)">Experiment Recording</button>
          </div>
        </div>

        <!-- card for fault injection -->
        <div class="col-md-4 col-sm-12">
          <div draggable="true" class="box">
            <h2 class="text-center">Fault Injection</h2>
            <button type="button" class="fault_injection"  onclick="faultinjectiongnss(this)">GNSS</button>
            <button type="button" class="fault_injection"  onclick="faultinjectionlidar1(this)">Lidar 1</button>
            <button type="button"  class="fault_injection" onclick="faultinjectionlidar2(this)">Lidar 2</button>
            <button type="button" class="fault_injection"  onclick="faultinjectionlidar3(this)">Lidar 3</button>
            <button type="button" class="fault_injection"  onclick="faultinjectionlidar4(this)">Lidar 4</button>
            <button type="button"  class="fault_injection" onclick="faultinjectionradar(this)">Radar</button>
					</div>
				</div>

        <!-- card for camera -->
        <div class="col-md-4 col-sm-12">
          <div draggable="true" class="box">
            <h2 class="text-center">Camera Stream_tl</h2>
            <div id="test1"></div> 
             <canvas id="canvas" width="960" height="720"></canvas>
             <!-- <img id="img1"></img>  -->
            <!-- <img id="my_ima; object-fit: contain' src="http://localhost:9090/stream?topic=/camera_1/image_raw">
            <a href="http://localhost:8080/sge" style='height: 100%; width: 100%tream?topic=/tl/image_raw">click</a> -->
					</div>
        </div>
      </div>
      </div>
	  </main>

    <!-- footer -->
	  <footer class="footer mt-auto bg-dark text-light">
			<h5 style="text-align: center;">AD-EYE <a href="https://www.adeye.se/">(adeye.se)</a> Platform for Automated Driving Systems</h5>
    </footer>
    <!-- <script>
      var canvasElement = document.getElementById("myCanvas");
      var context = canvasElement.getContext("2d"); 
      context.fillStyle = "yellow";
      context.fillRect(20, 20, 128, 128);
      context.fillStyle = "red";
      context.fillRect(150, 20, 128, 128);
      context.fillStyle = "green";
      context.fillRect(20, 150, 128, 128);
      context.fillStyle = "blue"; 
      context.fillRect(150, 150, 128, 128);
      
      </script>   -->
     
  </body>
</html>

