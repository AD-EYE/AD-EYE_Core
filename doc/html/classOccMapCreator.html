<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>AD-EYE: OccMapCreator Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">AD-EYE
   &#160;<span id="projectnumber">0.1</span>
   </div>
   <div id="projectbrief">AD-EYE: Automated Driving simulations</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="classOccMapCreator-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">OccMapCreator Class Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>This class is used to extract data from the GridMap given by the <a class="el" href="classGridMapCreator.html" title="The GridMapCreator maintains a grid map used to know where safe places are. ">GridMapCreator</a>.  
 <a href="classOccMapCreator.html#details">More...</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a067844320d21de45f00cb997480a6088"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classOccMapCreator.html#a067844320d21de45f00cb997480a6088">OccMapCreator</a> (ros::NodeHandle &amp;nh, const float area_width, const float area_height_front, const float area_height_back)</td></tr>
<tr class="memdesc:a067844320d21de45f00cb997480a6088"><td class="mdescLeft">&#160;</td><td class="mdescRight">Constructor.  <a href="#a067844320d21de45f00cb997480a6088">More...</a><br /></td></tr>
<tr class="separator:a067844320d21de45f00cb997480a6088"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a06458176cc3d8e294d43d997d0aeec5c"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classOccMapCreator.html#a06458176cc3d8e294d43d997d0aeec5c">gridMap_callback</a> (const grid_map_msgs::GridMap::ConstPtr &amp;msg)</td></tr>
<tr class="memdesc:a06458176cc3d8e294d43d997d0aeec5c"><td class="mdescLeft">&#160;</td><td class="mdescRight">GridMap Callback : Called when the grid map information has changed.  <a href="#a06458176cc3d8e294d43d997d0aeec5c">More...</a><br /></td></tr>
<tr class="separator:a06458176cc3d8e294d43d997d0aeec5c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afa7b05bd0cb89c52bafdc466203614f4"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classOccMapCreator.html#afa7b05bd0cb89c52bafdc466203614f4">positionEgo_callback</a> (const nav_msgs::Odometry::ConstPtr &amp;msg)</td></tr>
<tr class="memdesc:afa7b05bd0cb89c52bafdc466203614f4"><td class="mdescLeft">&#160;</td><td class="mdescRight">Ego Position Callback : Called when the ego position information has changed.  <a href="#afa7b05bd0cb89c52bafdc466203614f4">More...</a><br /></td></tr>
<tr class="separator:afa7b05bd0cb89c52bafdc466203614f4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a83a46376242add139350a6d1a21f1a5f"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classOccMapCreator.html#a83a46376242add139350a6d1a21f1a5f">run</a> ()</td></tr>
<tr class="memdesc:a83a46376242add139350a6d1a21f1a5f"><td class="mdescLeft">&#160;</td><td class="mdescRight">The main function of the Node. Contains the main loop.  <a href="#a83a46376242add139350a6d1a21f1a5f">More...</a><br /></td></tr>
<tr class="separator:a83a46376242add139350a6d1a21f1a5f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abe47c0065aaebc9269c5f88c67606afe"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classOccMapCreator.html#abe47c0065aaebc9269c5f88c67606afe">flateningProcess</a> ()</td></tr>
<tr class="memdesc:abe47c0065aaebc9269c5f88c67606afe"><td class="mdescLeft">&#160;</td><td class="mdescRight">The information from the GridMap are translated into an occupancy grid.  <a href="#abe47c0065aaebc9269c5f88c67606afe">More...</a><br /></td></tr>
<tr class="separator:abe47c0065aaebc9269c5f88c67606afe"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1efcaad9fdb9feca05c7013e99912f66"><td class="memItemLeft" align="right" valign="top">float&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classOccMapCreator.html#a1efcaad9fdb9feca05c7013e99912f66">calculateOccValue</a> (float staticObjectValue, float dynamicObjectValue, float laneValue, float safeAreaValue)</td></tr>
<tr class="memdesc:a1efcaad9fdb9feca05c7013e99912f66"><td class="mdescLeft">&#160;</td><td class="mdescRight">This function is used to calculate the occupancy value of a cell according to the layer of the grid map.  <a href="#a1efcaad9fdb9feca05c7013e99912f66">More...</a><br /></td></tr>
<tr class="separator:a1efcaad9fdb9feca05c7013e99912f66"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>This class is used to extract data from the GridMap given by the <a class="el" href="classGridMapCreator.html" title="The GridMapCreator maintains a grid map used to know where safe places are. ">GridMapCreator</a>. </p>
<p>This node produce two OccupancyGrid : One, aligned with the global axis, which is used by the Safe_Stop_Planner ; one smaller, aligned with the car which is used by the safety supervisor. </p>
</div><h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a id="a067844320d21de45f00cb997480a6088"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a067844320d21de45f00cb997480a6088">&#9670;&nbsp;</a></span>OccMapCreator()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">OccMapCreator::OccMapCreator </td>
          <td>(</td>
          <td class="paramtype">ros::NodeHandle &amp;&#160;</td>
          <td class="paramname"><em>nh</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const float&#160;</td>
          <td class="paramname"><em>area_width</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const float&#160;</td>
          <td class="paramname"><em>area_height_front</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const float&#160;</td>
          <td class="paramname"><em>area_height_back</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Constructor. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">nh</td><td>A reference to the ros::NodeHandle initialized in the main function. </td></tr>
    <tr><td class="paramname">area_width</td><td>The width in meter of the ssmp occupancy area </td></tr>
    <tr><td class="paramname">area_height_front</td><td>The distance in meter in front of the base_link point that remains in the ssmp occmap area </td></tr>
    <tr><td class="paramname">area_height_back</td><td>The distance in meter behind the base_link point that remains in the ssmp occmap area</td></tr>
  </table>
  </dd>
</dl>
<p>Initializes the node and its components such as publishers and subscribers. The area related parameters needs to be given as command line arguments to the node (order : width, height_front, height_back) </p>

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a id="a1efcaad9fdb9feca05c7013e99912f66"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1efcaad9fdb9feca05c7013e99912f66">&#9670;&nbsp;</a></span>calculateOccValue()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">float OccMapCreator::calculateOccValue </td>
          <td>(</td>
          <td class="paramtype">float&#160;</td>
          <td class="paramname"><em>staticObjectValue</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">float&#160;</td>
          <td class="paramname"><em>dynamicObjectValue</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">float&#160;</td>
          <td class="paramname"><em>laneValue</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">float&#160;</td>
          <td class="paramname"><em>safeAreaValue</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>This function is used to calculate the occupancy value of a cell according to the layer of the grid map. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">staticObjectValue</td><td>The value of the cell in the StaticObjects layer of the GridMap </td></tr>
    <tr><td class="paramname">dynamicObjectValue</td><td>The value of the cell in the DynamicObjects layer of the GridMap </td></tr>
    <tr><td class="paramname">laneValue</td><td>The value of the cell in the DrivableAreas layer of the GridMap </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The occupancy value calculated </dd></dl>

</div>
</div>
<a id="abe47c0065aaebc9269c5f88c67606afe"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abe47c0065aaebc9269c5f88c67606afe">&#9670;&nbsp;</a></span>flateningProcess()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void OccMapCreator::flateningProcess </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>The information from the GridMap are translated into an occupancy grid. </p>
<p>Info from all different layers is reduced to either GREEN, YELLOW, or RED, as these values are the only ones that the safety planner can read. The safety planner do not consider the orientation of the grid, so the Occupancy Grid has the same size than the Grid Map (which is aligned with global axis by design). Then, every cells in the grid that are not in the considered area (aligned with the car), will be hidden (filled with the RED value). </p>

</div>
</div>
<a id="a06458176cc3d8e294d43d997d0aeec5c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a06458176cc3d8e294d43d997d0aeec5c">&#9670;&nbsp;</a></span>gridMap_callback()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void OccMapCreator::gridMap_callback </td>
          <td>(</td>
          <td class="paramtype">const grid_map_msgs::GridMap::ConstPtr &amp;&#160;</td>
          <td class="paramname"><em>msg</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>GridMap Callback : Called when the grid map information has changed. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">msg</td><td>A smart pointer to the message from the topic.</td></tr>
  </table>
  </dd>
</dl>
<p>Stores the GridMap information given by the <a class="el" href="classGridMapCreator.html" title="The GridMapCreator maintains a grid map used to know where safe places are. ">GridMapCreator</a>, then call the flateningProcess. </p>

</div>
</div>
<a id="afa7b05bd0cb89c52bafdc466203614f4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afa7b05bd0cb89c52bafdc466203614f4">&#9670;&nbsp;</a></span>positionEgo_callback()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void OccMapCreator::positionEgo_callback </td>
          <td>(</td>
          <td class="paramtype">const nav_msgs::Odometry::ConstPtr &amp;&#160;</td>
          <td class="paramname"><em>msg</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Ego Position Callback : Called when the ego position information has changed. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">msg</td><td>A smart pointer to the message from the topic.</td></tr>
  </table>
  </dd>
</dl>
<p>Stores the position information as read from simulink of the controlled car </p>

</div>
</div>
<a id="a83a46376242add139350a6d1a21f1a5f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a83a46376242add139350a6d1a21f1a5f">&#9670;&nbsp;</a></span>run()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void OccMapCreator::run </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>The main function of the Node. Contains the main loop. </p>
<p>Basically extract information from gridMap and then publish data extracted from it. Also, checks if the required frequency is met. </p>

</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li>/home/akanshu/AD-EYE_Core/AD-EYE/ROS_Packages/src/AD-EYE/src/<a class="el" href="flattening__node_8cpp.html">flattening_node.cpp</a></li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.13
</small></address>
</body>
</html>
